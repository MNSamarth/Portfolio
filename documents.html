<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Documents · Samarth Narahari Mandagere</title>
    <meta name="description" content="Document previews with click-to-view full PDF using the best web-native methods." />
    <meta name="color-scheme" content="dark" />
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.2/lib/anime.min.js" defer></script>
    <style>
      :root{ --bg:#050807; --bg-2:#070b0a; --text:#e9fff3; --muted:#9cb5a8; --accent:#64ff8f; --accent-2:#b4ffd2; --card:#0b0f10; --card-2:#0a0d0e; --link-hover:#c8ffe1; --shadow:0 8px 30px rgba(0,0,0,0.35); }
      *{box-sizing:border-box} html,body{height:100%}
      body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--text);background:radial-gradient(1200px 800px at 50% -200px,#0f1413 0%,var(--bg) 55%,#030504 100%);overflow-x:hidden}
      a{color:var(--accent);text-decoration:none} a:hover{color:var(--link-hover)}
      .space-bg{position:fixed;inset:0;z-index:-3;pointer-events:none} #starfield{width:100%;height:100%;display:block}
      .orbits{position:fixed;inset:0;z-index:-2;pointer-events:none}
      .orbit{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;border:1px dashed rgba(100,255,143,0.08);filter:drop-shadow(0 0 6px rgba(100,255,143,0.08))}
      .planet{position:absolute;top:50%;left:50%;transform:translate(calc(var(--radius,150px)),-50%);border-radius:50%;box-shadow:0 0 16px rgba(100,255,143,0.25),0 0 36px rgba(180,255,210,0.15)}
      .orbit-1{width:320px;height:320px}.planet-1{--radius:160px;width:18px;height:18px;background:radial-gradient(circle at 30% 30%,#c8ffe1 0%,#64ff8f 35%,#0e2a1e 100%)}
      .orbit-2{width:560px;height:560px}.planet-2{--radius:280px;width:26px;height:26px;background:radial-gradient(circle at 35% 35%,#d7ffe9 0%,#8bffc0 45%,#0d3b2c 100%)}
      .orbit-3{width:820px;height:820px}.planet-3{--radius:410px;width:36px;height:36px;background:radial-gradient(circle at 35% 35%,#b4ffd2 0%,#64ff8f 45%,#104233 100%)}
      header{position:sticky;top:0;backdrop-filter:blur(8px);background:linear-gradient(to bottom,rgba(4,8,6,0.8),rgba(4,8,6,0.35));border-bottom:1px solid rgba(100,255,143,0.08);z-index:10}
  .nav{display:flex;align-items:center;justify-content:space-between;max-width:1200px;margin:0 auto;padding:18px 20px}
  .name-link{ padding:8px 12px; border-radius:999px; border:1px solid rgba(100,255,143,0.22); background: rgba(100,255,143,0.08); font-weight:800; }
      .brand{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.4px}
      .brand .logo{width:22px;height:22px;border-radius:50%;background:radial-gradient(circle at 35% 35%,var(--accent-2) 0%,var(--accent) 55%,#0dff83 100%);box-shadow:0 0 18px rgba(100,255,143,0.4)}
      .nav-links{display:flex;gap:18px;align-items:center}
      main{max-width:1200px;margin:0 auto;padding:28px 20px 80px}
      h1{ margin:8px 0 0; font-size:clamp(28px,4.6vw,42px); text-shadow:0 2px 40px rgba(100,255,143,0.18); }

      .grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap:14px; }
      .thumb{ grid-column: span 4; background:linear-gradient(180deg, rgba(12,15,18,0.92), rgba(10,13,15,0.92)); border:1px solid rgba(100,255,143,0.08); border-radius:12px; padding:10px; box-shadow:var(--shadow); display:flex; flex-direction:column; gap:8px; }
      .thumb .preview{ background:#0c1411; border:1px solid rgba(100,255,143,0.12); border-radius:8px; aspect-ratio: 4/3; display:flex; align-items:center; justify-content:center; color:#9edfb9; font-size:.95rem; }
      .thumb .title{ font-weight:700; }
      .thumb .meta{ color:var(--muted); font-size:.92rem; }
      .thumb .actions{ display:flex; gap:8px; flex-wrap:wrap; }
      .btn{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; background:linear-gradient(135deg,#00c853,var(--accent)); color:#05120b; border:none; font-weight:700; }
      .btn.ghost{ background:rgba(100,255,143,0.12); color:var(--text); border:1px solid rgba(100,255,143,0.25); }

  /* Overlay lightbox (match certifications) */
  .overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.65); display:none; align-items:center; justify-content:center; z-index:40 }
  .modal{ width:min(92vw,1100px); height:min(86vh,820px); background:#0c1411; border:1px solid rgba(100,255,143,0.18); border-radius:14px; display:flex; flex-direction:column; box-shadow:var(--shadow) }
  .modal .top{ display:flex; align-items:center; justify-content:space-between; padding:10px 14px; border-bottom:1px solid rgba(100,255,143,0.18) }
  .modal .title{ margin:0; font-weight:800 }
  .modal iframe{ flex:1; width:100%; border:0; background:#000; border-bottom-left-radius:14px; border-bottom-right-radius:14px }
  .close{ background:rgba(100,255,143,0.12); border:1px solid rgba(100,255,143,0.28); color:var(--text); padding:6px 12px; border-radius:8px; font-weight:600; cursor:pointer }

  /* Extras styles reused here */
  .section{ margin-top:24px }
  .masonry{ columns:1; column-gap:14px }
  @media(min-width:700px){ .masonry{ columns:2 } }
  @media(min-width:1050px){ .masonry{ columns:3 } }
  .ecard{ break-inside: avoid; background: linear-gradient(180deg, rgba(12,15,18,0.92), rgba(10,13,15,0.92)); border:1px solid rgba(100,255,143,0.08); border-radius:14px; box-shadow:0 8px 30px rgba(0,0,0,0.35); margin:0 0 14px; overflow:hidden }
  .photo{ width:100%; aspect-ratio:4/3; background:#0c1411; border-bottom:1px solid rgba(100,255,143,0.12); display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden; background-position:center; background-size:cover }
  .photo img{ width:100%; height:100%; object-fit: contain; display:block; position:relative; z-index:1 }
  .photo.has-bg::before{ content:""; position:absolute; inset:-6px; background:inherit; filter: blur(20px) brightness(0.8) saturate(1.1); transform: scale(1.12) }
  .content{ padding:12px }
  .content h3{ margin:0 0 6px; font-size:1.05rem }
  .tag-list{ display:flex; flex-wrap:wrap; gap:6px; margin-top:8px }
  .tag{ padding:4px 8px; border-radius:999px; background:rgba(100,255,143,0.13); border:1px solid rgba(100,255,143,0.25); font-size:.78rem; color:#dbffe9 }
  .reveal{ opacity:0; transform: translateY(8px) }
  .reveal.in{ opacity:1; transform:none; transition: opacity .4s ease, transform .4s ease }

      @media (max-width: 1000px){ .thumb{ grid-column: span 6; } }
      @media (max-width: 680px){ .thumb{ grid-column: span 12; } }
      footer{ margin-top:30px; color:var(--muted); text-align:center; }
    </style>
  </head>
  <body>
    <div class="space-bg" aria-hidden="true"><canvas id="starfield"></canvas></div>
    <div class="orbits" aria-hidden="true">
      <div class="orbit orbit-1"><div class="planet planet-1"></div></div>
      <div class="orbit orbit-2"><div class="planet planet-2"></div></div>
      <div class="orbit orbit-3"><div class="planet planet-3"></div></div>
    </div>
    <header>
      <nav class="nav" aria-label="Primary">
        <div class="brand"><span class="logo" aria-hidden="true"></span><a href="index.html" class="name-link" aria-label="Home">Samarth Narahari Mandagere</a></div>
        <div class="nav-links">
          <a href="about.html">About</a>
          <a href="projects.html">Projects</a>
          <a href="experience.html">Experience</a>
          <a href="certifications.html">Certifications</a>
          <a href="contact.html">Contact</a>
        </div>
      </nav>
    </header>
    <main>
      <h1>Documents</h1>
  <p class="lead" style="color: var(--muted)">Documents first with thumbnail previews; click to view full PDFs below. Extracurriculars and Achievements are included after the documents.</p>

      <div class="grid" id="docGrid">
        <div class="thumb" data-pdf="docs/SamarthNarahariMandagere.pdf">
          <div class="preview"><canvas class="pdf-thumb" width="400" height="300" data-pdf="docs/SamarthNarahariMandagere.pdf" aria-label="Preview of Resume PDF"></canvas></div>
          <div class="title">Resume</div>
          <div class="meta">Updated: 2025-09</div>
          <div class="actions">
            <button class="btn" data-action="view">View</button>
            <a class="btn ghost" href="docs/SamarthNarahariMandagere.pdf" target="_blank" rel="noopener">Open in new tab</a>
          </div>
        </div>
  <div class="thumb" data-pdf="docs/CV(SamarthMN).pdf">
          <div class="preview"><canvas class="pdf-thumb" width="400" height="300" data-pdf="docs/CV(SamarthMN).pdf" aria-label="Preview of Certificate PDF"></canvas></div>
          <div class="title">CV</div>
          <div class="meta">Issuer · 2025</div>
          <div class="actions">
            <button class="btn" data-action="view">View</button>
            <a class="btn ghost" href="docs/CV(SamarthMN).pdf" target="_blank" rel="noopener">Open in new tab</a>
          </div>
        </div>
        <!-- <div class="thumb" data-pdf="docs/case-study.pdf">
          <div class="preview"><canvas class="pdf-thumb" width="400" height="300" data-pdf="docs/case-study.pdf" aria-label="Preview of Case-study PDF"></canvas></div>
          <div class="title">Case study</div>
          <div class="meta">Project write-up</div>
          <div class="actions">
            <button class="btn" data-action="view">View</button>
            <a class="btn ghost" href="docs/case-study.pdf" target="_blank" rel="noopener">Open in new tab</a>
          </div>
        </div> -->
      </div>

      <!-- Overlay viewer like Certifications -->
      <div class="overlay" id="overlay">
        <div class="modal">
          <div class="top"><h3 class="title" id="modalTitle">Document</h3><button class="close" id="closeBtn">Close</button></div>
          <iframe id="docFrame" title="Document Viewer" allow="fullscreen"></iframe>
        </div>
      </div>

      
    </main>
    <section id="contact" class="viewer" style="max-width:1200px;margin:0 auto 14px;">
      <h2>Contact</h2>
      <p>Reach me on LinkedIn or via email.</p>
  <p><a class="btn" href="https://www.linkedin.com/in/samarthmandagere/" target="_blank" rel="noopener">Open LinkedIn</a>
  <span style="margin-left:10px; color:var(--muted)">or email: <a href="mailto:samarthmandagere123@gmail.com">samarthmandagere123@gmail.com</a></span></p>
    </section>
    <footer>© <span id="year"></span> · Documents</footer>
  <!-- PDF.js for thumbnail previews (ESM import, assigns window.pdfjsLib) -->
  <script type="module">
    import * as pdfjsLib from 'https://unpkg.com/pdfjs-dist@4.10.38/build/pdf.mjs';
    // In some environments worker is required explicitly
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://unpkg.com/pdfjs-dist@4.10.38/build/pdf.worker.mjs';
    window.pdfjsLib = pdfjsLib;
  </script>
  <script>
      // starfield setup (same as other pages)
      const canvas = document.getElementById('starfield'); const ctx = canvas.getContext('2d'); let stars=[],w=0,h=0,dpr=Math.min(window.devicePixelRatio||1,1.5),mouse={x:0,y:0};
      function resize(){ w=canvas.clientWidth=window.innerWidth; h=canvas.clientHeight=window.innerHeight; canvas.width=Math.floor(w*dpr); canvas.height=Math.floor(h*dpr); ctx.setTransform(dpr,0,0,dpr,0,0); initStars(); }
      function rand(a,b){ return Math.random()*(b-a)+a; }
      function initStars(){ const count=Math.floor((w*h)/2000); stars=new Array(count).fill(0).map(()=>({x:Math.random()*w,y:Math.random()*h,r:Math.random()<0.6?rand(0.3,0.9):rand(0.9,1.5),a:rand(0.35,1),tw:rand(0.002,0.02),vx:rand(-0.02,0.02),vy:rand(-0.02,0.02)})); }
      function draw(){ ctx.clearRect(0,0,w,h); const g=ctx.createRadialGradient(w/2,h/2,0,w/2,h/2,Math.max(w,h)/1.2); g.addColorStop(0,'rgba(5,8,7,0)'); g.addColorStop(1,'rgba(3,6,5,0.45)'); ctx.fillStyle=g; ctx.fillRect(0,0,w,h); for(let s of stars){ s.a+=s.tw; const alpha=0.5+0.5*Math.sin(s.a); s.x+=s.vx; s.y+=s.vy; if(s.x<0)s.x=w; if(s.x>w)s.x=0; if(s.y<0)s.y=h; if(s.y>h)s.y=0; const dx=(mouse.x-w/2)*0.0008, dy=(mouse.y-h/2)*0.0008; ctx.beginPath(); ctx.arc(s.x+dx*s.r*120, s.y+dy*s.r*120, s.r, 0, Math.PI*2); ctx.fillStyle=`rgba(180,255,210,${0.7*alpha})`; ctx.fill(); if(alpha>0.98 && s.r>0.8){ ctx.fillStyle='rgba(120,255,180,0.85)'; ctx.fillRect(s.x-0.5,s.y-0.5,1,1);} } }
      function loop(){ draw(); requestAnimationFrame(loop);} window.addEventListener('resize',resize); window.addEventListener('mousemove',e=>{mouse.x=e.clientX; mouse.y=e.clientY;}); resize(); loop();
      function spin(){ anime({ targets: '.orbit-1', rotate:'1turn', duration:60000, easing:'linear', loop:true }); anime({ targets: '.orbit-2', rotate:'1turn', duration:90000, easing:'linear', loop:true, direction:'reverse' }); anime({ targets: '.orbit-3', rotate:'1turn', duration:130000, easing:'linear', loop:true }); }
      window.addEventListener('DOMContentLoaded', spin);
      document.getElementById('year').textContent = new Date().getFullYear();

      // Document viewer logic (overlay like certifications)
      const grid = document.getElementById('docGrid');
      const overlay = document.getElementById('overlay');
      const frame = document.getElementById('docFrame');
      const titleEl = document.getElementById('modalTitle');
      grid.addEventListener('click', (e)=>{
        const card = e.target.closest('.thumb');
        if(!card) return;
        const btn = e.target.closest('[data-action="view"]');
        const inPreview = !!e.target.closest('.preview');
        if(!(btn || inPreview)) return; // open only from preview or View button
        const pdf = card.getAttribute('data-pdf');
        const title = (card.querySelector('.title')?.textContent || 'Document').trim();
        titleEl.textContent = title;
        frame.src = pdf; // native browser viewer
        overlay.style.display = 'flex';
      });
      document.getElementById('closeBtn').addEventListener('click', ()=>{ overlay.style.display='none'; frame.src=''; });
      overlay.addEventListener('click', (e)=>{ if(e.target === overlay){ overlay.style.display='none'; frame.src=''; } });

      // Render PDF thumbnails using PDF.js
      async function renderThumb(canvasEl, url){
        try{
          const pdf = await pdfjsLib.getDocument(url).promise;
          const page = await pdf.getPage(1);
          const vw = canvasEl.width; const vh = canvasEl.height; // assume 4:3
          const viewport = page.getViewport({ scale: 1 });
          const scale = Math.min(vw/viewport.width, vh/viewport.height);
          const vp = page.getViewport({ scale });
          const ctx = canvasEl.getContext('2d');
          canvasEl.width = vp.width; canvasEl.height = vp.height;
          await page.render({ canvasContext: ctx, viewport: vp }).promise;
        }catch(err){
          showPdfFallback(canvasEl, url);
        }
      }
  // Wait for pdfjsLib to be ready (module load) then render thumbnails
      function whenPdfReady(cb){ if(window.pdfjsLib){ cb(); } else { setTimeout(()=>whenPdfReady(cb), 40); } }
      function showPdfFallback(canvasEl, url){
        // Draw minimal message, then attach an Open button in the parent .thumb
        const ctx = canvasEl.getContext('2d');
        ctx.fillStyle = '#0c1411'; ctx.fillRect(0,0,canvasEl.width,canvasEl.height);
        ctx.fillStyle = '#9edfb9'; ctx.font = '14px system-ui, sans-serif';
        ctx.fillText('Preview unavailable', 10, 20);
        const card = canvasEl.closest('.thumb');
        if(card && !card.querySelector('.open-fallback')){
          const row = card.querySelector('.actions') || (()=>{ const d=document.createElement('div'); d.className='actions'; card.appendChild(d); return d; })();
          const btn = document.createElement('a');
          btn.className = 'btn ghost open-fallback';
          btn.href = url; btn.target = '_blank'; btn.rel = 'noopener';
          btn.textContent = 'Open PDF';
          row.appendChild(btn);
        }
      }

      whenPdfReady(()=>{
        document.querySelectorAll('.pdf-thumb').forEach(c=>{
          const url = c.getAttribute('data-pdf');
          if(!url) return;
          // Timeout fallback in case worker fails to load (e.g., file://)
          let done = false;
          const t = setTimeout(()=>{ if(!done) showPdfFallback(c, url); }, 2500);
          renderThumb(c, url).finally(()=>{ done = true; clearTimeout(t); });
        });
      });

      // extras reveal + blurred backgrounds
      const observer = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in'); observer.unobserve(e.target);} });
      },{threshold:0.1});
      document.querySelectorAll('.reveal').forEach(el=>observer.observe(el));
      document.querySelectorAll('.photo').forEach(block=>{
        const img = block.querySelector('img'); if(!img) return; const src = img.currentSrc || img.src; if(src){ block.style.backgroundImage = `url('${src}')`; block.classList.add('has-bg'); }
      });
    </script>
  </body>
</html>
